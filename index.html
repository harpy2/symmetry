<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0, viewport-fit=cover">
<title>SYMMETRY</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="css/style.css?v=31">
</head>
<body>

<!-- TITLE SCREEN -->
<div id="title-screen" class="screen active">
<div class="title-particles" id="title-particles"></div>
<h1>SYMMETRY</h1>
<div class="subtitle">AI 키우기 RPG</div>
<div class="title-btn-group">
<button class="btn" onclick="showScreen('class-screen')">시작하기</button>
<button class="btn btn-secondary btn-sm" onclick="loadGame()">이어하기</button>
</div>
<div class="version">v1.0</div>
</div>

<!-- CLASS SELECT -->
<div id="class-screen" class="screen">
<div class="class-header">⚔️ 직업을 선택하세요</div>
<div class="class-cards" id="class-cards"></div>
<div class="class-select-btn"><button class="btn" onclick="confirmClass()" id="class-confirm-btn" disabled>선택 완료</button></div>
</div>

<!-- SKILL LOADOUT (hidden - skip to main) -->
<div id="skill-screen" class="screen" style="display:none!important">
<div class="skill-header">✨ 스킬을 선택하세요</div>
<div style="flex:1;overflow-y:auto;-webkit-overflow-scrolling:touch">
<div class="skill-section"><h3>🗡️ 액티브 스킬 (3개 선택)</h3><div class="skill-grid" id="active-skill-grid"></div></div>
<div class="skill-desc-box" id="skill-desc-box"><div class="title">스킬을 터치하세요</div><div class="desc">설명이 여기에 표시됩니다</div></div>
<div class="selected-count" id="active-count">선택: 0/3</div>
<div class="skill-section"><h3>🛡️ 패시브 스킬 (2개 선택)</h3><div class="passive-grid" id="passive-skill-grid"></div></div>
<div class="selected-count" id="passive-count">선택: 0/2</div>
</div>
<div class="skill-bottom"><button class="btn" onclick="confirmSkills()" id="skill-confirm-btn" disabled>출발!</button></div>
</div>

<!-- MAIN SCREEN -->
<div id="main-screen" class="screen">
<div class="top-bar">
<span class="level-badge">⭐ Lv.<span id="player-level">1</span></span>
<span class="gold"><span class="currency-icon">💰</span> <span id="player-gold">100</span></span>
<span class="points"><span class="currency-icon">💎</span> <span id="player-points">10</span></span>
</div>
<div class="char-tab-bar" id="char-tab-bar">
<button class="char-tab" onclick="switchCharacter(1)">캐릭2🔒</button>
<button class="char-tab active" onclick="switchCharacter(0)">캐릭1</button>
<button class="char-tab" onclick="switchCharacter(2)">캐릭3🔒</button>
</div>
<div class="party-container">
<div class="char-panel" data-slot="1">
<div class="locked-overlay">
<div class="lock-icon">🔒</div>
<div class="lock-text">슬롯 구매</div>
<button class="btn btn-sm" onclick="toast('💎 포인트로 슬롯을 구매하세요')">구매하기</button>
</div>
</div>
<div class="char-panel active" data-slot="0">
<div class="status-bars">
<div class="stat-bar bar-hp"><span class="label">❤️</span><div class="bar-bg"><div class="bar-fill" id="hp-bar" style="width:100%"></div><span class="bar-text" id="hp-text">100/100</span></div></div>
<div class="stat-bar bar-hunger"><span class="label">🍖</span><div class="bar-bg"><div class="bar-fill" id="hunger-bar" style="width:100%"></div><span class="bar-text" id="hunger-text">100%</span></div></div>
<div class="stat-bar bar-mood"><span class="label">⚡</span><div class="bar-bg"><div class="bar-fill" id="mood-bar" style="width:80%"></div><span class="bar-text" id="mood-text">80%</span></div></div>
</div>
<div class="char-equip-layout">
<!-- 왼쪽 장비: 투구/상의/장갑/바지/신발/주무기 -->
<div class="equip-col equip-col-left" id="equip-col-left"></div>
<!-- 캐릭터 -->
<div class="char-area" id="char-area"></div>
<!-- 오른쪽 장비: 목걸이/반지1/반지2/보조무기 -->
<div class="equip-col equip-col-right" id="equip-col-right"></div>
</div>
<!-- skill row removed -->
</div>
<div class="char-panel" data-slot="2">
<div class="locked-overlay">
<div class="lock-icon">🔒</div>
<div class="lock-text">슬롯 구매</div>
<button class="btn btn-sm" onclick="toast('💎 포인트로 슬롯을 구매하세요')">구매하기</button>
</div>
</div>
</div>
<div class="bottom-menu">
<button class="menu-btn" onclick="openOverlay('hunt')"><span class="icon">⚔️</span><span class="label">사냥</span></button>
<button class="menu-btn" onclick="openOverlay('mission')"><span class="icon">📋</span><span class="label">미션</span></button>
<button class="menu-btn" onclick="openOverlay('shop')"><span class="icon">🏪</span><span class="label">상점</span></button>
<button class="menu-btn" onclick="openOverlay('inventory')"><span class="icon">🎒</span><span class="label">장비</span></button>
<!-- skills menu removed -->
</div>
</div>

<!-- OVERLAYS -->
<div class="overlay" id="overlay-hunt">
<div class="overlay-header"><h2>⚔️ 사냥 — <span id="hunt-floor">1</span>층</h2><div style="display:flex;gap:8px;align-items:center"><span id="auto-hunt-indicator"></span><button class="close-btn" onclick="closeOverlay('hunt')">✕</button></div></div>
<div class="overlay-body hunt-3panel">
<!-- 왼쪽: 캐릭터 상태 -->
<div class="hunt-panel hunt-panel-left">
<div class="hunt-panel-title">📊 상태</div>
<div class="hunt-stat-list" id="hunt-stat-list">
<div class="hs-row"><span class="hs-label">❤️ HP</span><span class="hs-val" id="hs-hp">100/100</span></div>
<div class="hs-row"><span class="hs-label">⚔️ 공격력</span><span class="hs-val" id="hs-atk">10</span></div>
<div class="hs-row"><span class="hs-label">🛡️ 방어력</span><span class="hs-val" id="hs-def">5</span></div>
<div class="hs-row"><span class="hs-label">💥 치명타</span><span class="hs-val" id="hs-crit">10%</span></div>
<div class="hs-row"><span class="hs-label">⚡ 공격속도</span><span class="hs-val" id="hs-aspd">1.0x</span></div>
<div class="hs-row"><span class="hs-label">🍖 배고픔</span><span class="hs-val" id="hs-hunger">100%</span></div>
<div class="hs-row"><span class="hs-label">😊 기분</span><span class="hs-val" id="hs-mood">100%</span></div>
<div class="hs-row"><span class="hs-label">⭐ 레벨</span><span class="hs-val" id="hs-level">1</span></div>
<div class="hs-row"><span class="hs-label">💰 골드</span><span class="hs-val" id="hs-gold">0</span></div>
<div class="hs-row"><span class="hs-label">🏔️ 층</span><span class="hs-val" id="hs-floor">1</span></div>
</div>
</div>
<!-- 가운데: 전투 로그 -->
<div class="hunt-panel hunt-panel-center">
<div class="hunt-log" id="hunt-log"></div>
<div class="hunt-controls">
<button class="btn" onclick="startHunt()" id="hunt-btn">🗡️ 사냥 시작</button>
<button class="btn btn-secondary" onclick="toggleAutoHunt()" id="auto-hunt-btn">🔄 자동사냥</button>
</div>
</div>
<!-- 모바일 우상단 버튼 -->
<div class="hunt-mobile-float">
<button class="hunt-float-btn" onclick="showMobilePopup('stat')">📊</button>
<button class="hunt-float-btn" onclick="showMobilePopup('mods')">✦</button>
</div>
<!-- 모바일 하단 미니 상태 -->
<div class="hunt-mobile-status" id="hunt-mobile-status">
<span>⭐ Lv.<span id="hm-level">1</span></span>
<span>❤️ <span id="hm-hp">100/100</span></span>
<span>🍖 <span id="hm-hunger">100%</span></span>
<span>⚡ <span id="hm-mood">100%</span></span>
</div>
<!-- 오른쪽: 커스텀 옵션 현황 -->
<div class="hunt-panel hunt-panel-right">
<div class="hunt-panel-title">✦ 장비 효과</div>
<div class="hunt-mods-list" id="hunt-mods-list">
<div class="hm-empty">장착된 효과 없음</div>
</div>
</div>
<!-- 최하단 경험치 바 -->
<div class="hunt-exp-bar-wrap">
<div class="hunt-exp-bar" id="hunt-exp-bar"></div>
<span class="hunt-exp-text" id="hunt-exp-text">0%</span>
</div>
</div>
</div>
</div>

<!-- 모바일 팝업 -->
<div class="mobile-popup-overlay" id="mobile-popup-overlay" onclick="closeMobilePopup()">
<div class="mobile-popup" onclick="event.stopPropagation()">
<div class="mobile-popup-header"><span id="mobile-popup-title"></span><button class="close-btn" onclick="closeMobilePopup()">✕</button></div>
<div class="mobile-popup-body" id="mobile-popup-body"></div>
</div>
</div>

<div class="overlay" id="overlay-mission">
<div class="overlay-header"><h2>📋 미션 게시판</h2><button class="close-btn" onclick="closeOverlay('mission')">✕</button></div>
<div class="overlay-body" id="mission-body"></div>
</div>

<div class="overlay" id="overlay-shop">
<div class="overlay-header"><h2>🏪 상점</h2><button class="close-btn" onclick="closeOverlay('shop')">✕</button></div>
<div class="overlay-body">
<div class="shop-tabs"><button class="shop-tab active" onclick="switchShopTab('gold',this)">💰 골드 상점</button><button class="shop-tab" onclick="switchShopTab('point',this)">💎 포인트 상점</button></div>
<div class="shop-items" id="shop-items"></div>
</div>
</div>

<div class="overlay" id="overlay-inventory">
<div class="overlay-header"><h2>🎒 장비</h2><button class="close-btn" onclick="closeOverlay('inventory')">✕</button></div>
<div class="overlay-body">
<div id="item-detail-area"></div>
<div class="inv-grid" id="inv-grid"></div>
</div>
</div>

<!-- skills overlay removed -->
</div>

<!-- LEVEL UP -->
<div class="levelup-overlay" id="levelup-overlay">
<div class="particles" id="levelup-particles"></div>
<div class="levelup-title">🎉 레벨 업!</div>
<div class="levelup-sub" id="levelup-sub">Lv.2 달성!</div>
<div style="color:var(--text2);font-size:12px;margin-bottom:8px">보상을 선택하세요</div>
<div class="auto-levelup-toggle"><label style="display:flex;align-items:center;gap:8px;cursor:pointer"><input type="checkbox" id="auto-levelup-toggle" onchange="G.autoLevelUp=this.checked;saveGame()"> 🤖 자동 선택</label></div>
<div class="levelup-choices" id="levelup-choices"></div>
</div>

<script src="js/data.js?v=5"></script>
<script src="js/game.js?v=7"></script>
<script src="js/ai.js?v=12"></script>
<script src="js/ui.js?v=8"></script>
<script src="js/hunt.js?v=21"></script>
<script src="js/inventory.js?v=10"></script>
</body>
</html>
